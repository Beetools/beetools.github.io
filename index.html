<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>CineTalk â€” Multi AI Voice</title>
    <meta name="theme-color" content="#0d0f14" />
    <meta name="description" content="CineTalk - RecomendaÃ§Ãµes de filmes com ChatGPT, Gemini e Convai" />
    <link rel="icon" href="img/favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <div class="container">
      <!-- APPBAR full-bleed -->
      <div class="appbar">
        <div class="brand">
          <!-- usa arquivo local -->
          <img src="img/beetools.svg" alt="Beetools" height="24" />
          <h1>CineTalk</h1>
        </div>

        <!-- Switch de provedores -->
        <div id="providerSwitch" class="provider-switch">
          <button id="btnChatGPT" class="provider-btn active" data-provider="chatgpt" type="button">ChatGPT</button>
          <button id="btnConvai"  class="provider-btn" data-provider="convai" type="button">ConvAI</button>
          <button id="btnGemini"  class="provider-btn" data-provider="gemini" type="button">Gemini</button>
        </div>


        <div class="conn">
          <span class="dot" id="dot"></span>
          <span id="connTxt">Desconectado</span>
        </div>
      </div>

      <!-- Chat principal -->
      <section class="panel">
        <div class="sticky-tip" id="stickyTip">Clique no microfone ou digite para pedir recomendaÃ§Ãµes ğŸ¬</div>

        <div id="chat" class="chat" aria-live="polite"></div>

        <!-- Input + enviar -->
        <div style="margin-top:12px" class="row">
          <button id="ptt" class="ptt" title="Clique para iniciar/parar">ğŸ¤</button>
          <input id="textInput" class="input" placeholder="Digite uma mensagem (Enter para enviar)" style="flex:1" />
          <button id="sendBtn" class="btn primary" title="Enviar">â¤</button>
        </div>

        <!-- medidor (usado pelo JS) -->
        <div id="meter" class="meter" aria-hidden="true" style="margin-top:8px">
          <div class="bar"></div><div class="bar"></div><div class="bar"></div>
          <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
        </div>

        <div id="status" class="status muted" style="margin-top:6px">Configure a API Key para comeÃ§ar</div>
      </section>

      <!-- ConfiguraÃ§Ã£o recolhÃ­vel -->
      <aside class="panel config">
        <details class="config-drawer" open>
          <summary class="config-summary">
            <div class="config-summary-title"><strong>ConfiguraÃ§Ã£o</strong></div>
            <div class="config-summary-actions"><span class="chev">â–¾</span></div>
          </summary>

          <div id="config-body" class="config-body">
            <!-- API Key dinÃ¢mica conforme provedor -->
            <div class="field">
              <label class="label" for="apiKey"><span id="apiKeyLabel">OpenAI API Key</span></label>
              <input id="apiKey" class="input" type="password" placeholder="sk-..." autocomplete="off" />
              <small class="muted" id="apiKeyHelp">Use sua API Key do provedor selecionado. Em produÃ§Ã£o, utilize backend/proxy.</small>
            </div>

            <!-- Character ID (apenas ConvAI) -->
            <div class="field" id="charIdField" style="display:none">
              <label class="label" for="charId">Character ID (ConvAI)</label>
              <input id="charId" class="input" type="text" placeholder="ID do personagem do ConvAI..." />
              <small class="muted">Mostrado apenas quando ConvAI estiver selecionado.</small>
            </div>

            <!-- SugestÃµes usadas pelo JS -->
            <div class="panel sugg-panel" style="margin-top:12px">
              <h2>Perguntas Sugeridas</h2>
              <div class="suggestions" id="suggs">
                <div class="sugg" data-text="Me recomende filmes de ficÃ§Ã£o cientÃ­fica dos anos 80.">ğŸš€ Sci-fi anos 80</div>
                <div class="sugg" data-text="Quais sÃ©ries de suspense posso ver na Netflix?">ğŸ” Suspense na Netflix</div>
                <div class="sugg" data-text="Quais filmes mais marcantes do Tarantino?">ğŸ¬ Tarantino</div>
                <div class="sugg" data-text="Sugira sÃ©ries para assistir em famÃ­lia.">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ SÃ©ries para famÃ­lia</div>
                <div class="sugg" data-text="Me indique filmes clÃ¡ssicos de cinema noir.">ğŸ•µï¸ Cinema noir</div>
                <div class="sugg" data-text="Recomende animaÃ§Ãµes premiadas recentes.">ğŸ¨ AnimaÃ§Ãµes premiadas</div>
              </div>
            </div>
          </div>
        </details>
      </aside>
    </div>

    <!-- Toasts -->
    <div id="toasts" class="toast-wrap"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.2/axios.min.js"></script>

    <script src="js/error-handler.js"></script>
    <script src="js/audio-queue.js"></script>

    <script src="js/provider-chatgpt.js"></script>
    <script src="js/provider-gemini.js"></script>
    <script src="js/provider-convai.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
